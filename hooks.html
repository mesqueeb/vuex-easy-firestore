<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hooks | Vuex Easy Firestore üî•</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="Easy coupling of firestore and vuex. 2-way sync with 0 boilerplate!">
    <link rel="preload" href="/vuex-easy-firestore/assets/css/0.styles.7e771a3c.css" as="style"><link rel="preload" href="/vuex-easy-firestore/assets/js/app.7865803c.js" as="script"><link rel="preload" href="/vuex-easy-firestore/assets/js/2.a44a5bbe.js" as="script"><link rel="preload" href="/vuex-easy-firestore/assets/js/12.1a70acda.js" as="script"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/10.afce603d.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/11.121d4951.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/13.65b1116f.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/14.f676c9f6.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/15.61ced602.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/3.a50046c5.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/4.e6717748.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/5.b8d3685e.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/6.89669ab9.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/7.5de5c22a.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/8.14128c0a.js"><link rel="prefetch" href="/vuex-easy-firestore/assets/js/9.083d4adf.js">
    <link rel="stylesheet" href="/vuex-easy-firestore/assets/css/0.styles.7e771a3c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuex-easy-firestore/" class="home-link router-link-active"><!----> <span class="site-name">Vuex Easy Firestore üî•</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/mesqueeb/vuex-easy-firestore/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/mesqueeb/vuex-easy-firestore" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/mesqueeb/vuex-easy-firestore/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/mesqueeb/vuex-easy-firestore" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/vuex-easy-firestore/setup.html" class="sidebar-link">Installation &amp; setup</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/setup.html#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/setup.html#setup" class="sidebar-link">Setup</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/setup.html#in-a-nutshell" class="sidebar-link">In a nutshell</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/setup.html#first-steps" class="sidebar-link">First steps</a></li></ul></li><li><a href="/vuex-easy-firestore/add-and-manage-data.html" class="sidebar-link">Add and manage data</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/add-and-manage-data.html#basic-usage" class="sidebar-link">Basic usage</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/add-and-manage-data.html#collection-mode" class="sidebar-link">'collection' mode</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/add-and-manage-data.html#doc-mode" class="sidebar-link">'doc' mode</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/add-and-manage-data.html#batch-updates-inserts-deletions" class="sidebar-link">Batch updates/inserts/deletions</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/add-and-manage-data.html#duplicating-docs" class="sidebar-link">Duplicating docs</a></li></ul></li><li><a href="/vuex-easy-firestore/query-data.html" class="sidebar-link">Read data</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#realtime-updates-vs-single-fetch" class="sidebar-link">Realtime updates vs single fetch</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#realtime-updates-opendbchannel" class="sidebar-link">Realtime updates: openDBChannel</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#fetching-docs" class="sidebar-link">Fetching docs</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#firestore-authentication" class="sidebar-link">Firestore authentication</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#where-orderby-clauses" class="sidebar-link">where / orderBy clauses</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#automatic-initial-doc-insertion" class="sidebar-link">Automatic initial doc insertion</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#multiple-modules-with-2-way-sync" class="sidebar-link">Multiple modules with 2-way sync</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#sync-directly-to-module-state" class="sidebar-link">Sync directly to module state</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/query-data.html#manual-fetch-handling" class="sidebar-link">Manual fetch handling</a></li></ul></li><li><a href="/vuex-easy-firestore/firestore-fields-and-functions.html" class="sidebar-link">Firestore fields and functions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/firestore-fields-and-functions.html#arrayunion-and-arrayremove" class="sidebar-link">arrayUnion and arrayRemove</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/firestore-fields-and-functions.html#increment" class="sidebar-link">increment</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/firestore-fields-and-functions.html#delete-fields" class="sidebar-link">Delete fields</a></li></ul></li><li><a href="/vuex-easy-firestore/hooks.html" class="active sidebar-link">Hooks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/hooks.html#hooks-on-local-changes" class="sidebar-link">Hooks on local changes</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/hooks.html#hooks-after-local-changes-before-sync" class="sidebar-link">Hooks after local changes before sync</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/hooks.html#hooks-after-server-changes" class="sidebar-link">Hooks after server changes</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/hooks.html#hooks-on-opendbchannel-fetch" class="sidebar-link">Hooks on openDBChannel / fetch</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/hooks.html#execution-timings-of-hooks" class="sidebar-link">Execution timings of hooks</a></li></ul></li><li><a href="/vuex-easy-firestore/extra-features.html" class="sidebar-link">Extra features</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/extra-features.html#variables-for-firestorepath-or-clauses" class="sidebar-link">Variables for firestorePath or clauses</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/extra-features.html#fillables-and-guard" class="sidebar-link">Fillables and guard</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/extra-features.html#default-values" class="sidebar-link">Default values</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/extra-features.html#firestore-timestamp-conversion" class="sidebar-link">Firestore Timestamp conversion</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/extra-features.html#pass-firebase-dependency" class="sidebar-link">Pass Firebase dependency</a></li><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/extra-features.html#custom-sync-debounce-duration" class="sidebar-link">Custom sync debounce duration</a></li></ul></li><li><a href="/vuex-easy-firestore/faq.html" class="sidebar-link">FAQ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuex-easy-firestore/faq.html#firebase-error-app-duplicate-service" class="sidebar-link">Firebase Error app/duplicate-service</a></li></ul></li><li><a href="/vuex-easy-firestore/config-example.html" class="sidebar-link">Config example</a></li><li><a href="/vuex-easy-firestore/feedback.html" class="sidebar-link">Feedback</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="hooks"><a href="#hooks" class="header-anchor">#</a> Hooks</h1> <p>A hook is a function that is triggered on <code>insert</code>, <code>patch</code> or <code>delete</code>. In this hook function you will receive the doc object <em>before</em> the store mutation occurs. You can do all kind of things:</p> <ul><li>modify the docs before they get commited to Vuex</li> <li>modify the docs before they get synced to Firestore</li> <li>add or delete props (fields) based on conditional checks</li> <li>prevent a doc to be added to your Vuex module &amp; Firestore</li> <li>allow a doc to be added to Vuex but prevent sync to Firestore</li> <li>etc...</li></ul> <h2 id="hooks-on-local-changes"><a href="#hooks-on-local-changes" class="header-anchor">#</a> Hooks on local changes</h2> <p>Hooks must be defined inside your vuex module under <code>sync</code>. Below are the examples of all possible hooks that will trigger <em>before</em> 'local' changes. Please also check the overview of <a href="#execution-timings-of-hooks">execution timings of hooks</a> to understand the difference between 'local' and 'server' changes.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token comment">// your other vuex-easy-fire config...</span>
  sync<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">insertHook</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">updateStore<span class="token punctuation">,</span> doc<span class="token punctuation">,</span> store</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">updateStore</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">patchHook</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">updateStore<span class="token punctuation">,</span> doc<span class="token punctuation">,</span> store</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">updateStore</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">deleteHook</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">updateStore<span class="token punctuation">,</span> id<span class="token punctuation">,</span> store</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">updateStore</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// Batches have separate hooks!</span>
    <span class="token function-variable function">insertBatchHook</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">updateStore<span class="token punctuation">,</span> docs<span class="token punctuation">,</span> store</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">updateStore</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">patchBatchHook</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">updateStore<span class="token punctuation">,</span> doc<span class="token punctuation">,</span> ids<span class="token punctuation">,</span> store</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">updateStore</span><span class="token punctuation">(</span>doc<span class="token punctuation">,</span> ids<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">deleteBatchHook</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">updateStore<span class="token punctuation">,</span> ids<span class="token punctuation">,</span> store</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">updateStore</span><span class="token punctuation">(</span>ids<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The <code>doc</code> passed in the <code>insert</code> and <code>patch</code> hooks will also have an <code>id</code> field which is either the new id or the id of the doc to be patched.</p> <div class="custom-block warning"><p class="custom-block-title">You must call `updateStore(doc)` to make the store mutation.</p> <p>But you may choose not to call this to abort the mutation. If you do not call <code>updateStore(doc)</code> nothing will happen.</p></div> <h2 id="hooks-after-local-changes-before-sync"><a href="#hooks-after-local-changes-before-sync" class="header-anchor">#</a> Hooks after local changes before sync</h2> <p>Below are the examples of all possible hooks that will trigger <em>after</em> 'local' changes.</p> <p>Basically when you make a local change you can intercept the change just <em>before</em> it gets synced to Firestore, but still make the change to Vuex.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token comment">// place also in the `sync` prop</span>
  sync<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">insertHookBeforeSync</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">updateFirestore<span class="token punctuation">,</span> doc<span class="token punctuation">,</span> store</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">updateFirestore</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">patchHookBeforeSync</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">updateFirestore<span class="token punctuation">,</span> doc<span class="token punctuation">,</span> store</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">updateFirestore</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">deleteHookBeforeSync</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">updateFirestore<span class="token punctuation">,</span> id<span class="token punctuation">,</span> store</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">updateFirestore</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>An example of what happens on a patch call:</p> <ol><li>eg. <code>dispatch('myModule/patch', data)</code></li> <li><code>patchHook</code> is fired</li> <li>if <code>updateStore</code> was <strong>not</strong> executed in the hook: abort!</li> <li>the patch is commited to the Vuex module</li> <li><code>patchHookBeforeSync</code> is fired</li> <li>if <code>updateFirestore</code> was <strong>not</strong> executed in the hook: abort!</li> <li>the patch is synced to Firestore</li></ol> <h2 id="hooks-after-server-changes"><a href="#hooks-after-server-changes" class="header-anchor">#</a> Hooks after server changes</h2> <p><em>Hooks after server changes</em> work just like <em>hooks on local changes</em> but for changes that have occured on the server. Just as with the hooks for local changes, you can use these hooks to make changes to incoming documents or prevent them from being added to your vuex module.</p> <p>These hooks will fire not only on modifications and inserts <strong>but also when dispatching <code>openDBChannel</code> or <code>fetchAndAdd</code> or <code>fetchById</code></strong>. Be sure to check the <strong>execution timings of hooks</strong> below to know when which are executed.</p> <p>You also have some extra parameters to work with:</p> <ul><li><em>id:</em> the doc id returned in <code>change.doc.id</code> (see firestore documentation for more info)</li> <li><em>doc:</em> the doc returned in <code>change.doc.data()</code> (see firestore documentation for more info)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token comment">// your other vuex-easy-fire config...</span>
  serverChange<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">addedHook</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">updateStore<span class="token punctuation">,</span> doc<span class="token punctuation">,</span> id<span class="token punctuation">,</span> store</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">updateStore</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">modifiedHook</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">updateStore<span class="token punctuation">,</span> doc<span class="token punctuation">,</span> id<span class="token punctuation">,</span> store</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">updateStore</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">removedHook</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">updateStore<span class="token punctuation">,</span> doc<span class="token punctuation">,</span> id<span class="token punctuation">,</span> store</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">updateStore</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Please make sure to check the overview of execution timings of hooks, in the next chapter:</p> <h2 id="hooks-on-opendbchannel-fetch"><a href="#hooks-on-opendbchannel-fetch" class="header-anchor">#</a> Hooks on openDBChannel / fetch</h2> <p>The &quot;Hooks after server changes&quot; explained above also trigger once on <code>openDBChannel</code> and <code>fetchAndAdd</code> and <code>fetchById</code>. Check the <strong>execution timings of hooks</strong> below to know precisely when which hooks are executed.</p> <h2 id="execution-timings-of-hooks"><a href="#execution-timings-of-hooks" class="header-anchor">#</a> Execution timings of hooks</h2> <p><strong>Hooks on 'collection' mode</strong></p> <table><tr><th>change type</th> <th>local</th> <th>server</th></tr> <tr><td>insertion</td> <td><ol><li><code>sync.insertHook</code></li> <li><code>sync.insertHookBeforeSync</code></li></ol></td> <td><code>serverChange.addedHook</code></td></tr> <tr><td>modification</td> <td><ol><li><code>sync.patchHook</code></li> <li><code>sync.patchHookBeforeSync</code></li></ol></td> <td><code>serverChange.modifiedHook</code></td></tr> <tr><td>deletion</td> <td><ol><li><code>sync.deleteHook</code></li> <li><code>serverChange.removedHook</code></li></ol></td> <td><code>serverChange.removedHook</code></td></tr> <tr><td><ul>on
        <li><code>openDBChannel</code></li> <li><code>fetchAndAdd</code></li> <li><code>fetchById</code></li></ul></td> <td colspan="2"><code>serverChange.addedHook</code> is executed once for each doc</td></tr></table> <p><strong>Hooks on 'doc' mode</strong></p> <table><tr><th>change type</th> <th>local</th> <th>server</th></tr> <tr><td>modification</td> <td><ol><li><code>sync.patchHook</code></li> <li><code>sync.patchHookBeforeSync</code></li></ol></td> <td><code>serverChange.modifiedHook</code></td></tr> <tr><td><ul>on
        <li><code>openDBChannel</code></li> <li><code>fetchAndAdd</code></li></ul></td> <td colspan="2"><code>serverChange.modifiedHook</code> is executed once</td></tr></table></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/mesqueeb/vuex-easy-firestore/edit/dev/docs/hooks.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/vuex-easy-firestore/firestore-fields-and-functions.html" class="prev">
        Firestore fields and functions
      </a></span> <span class="next"><a href="/vuex-easy-firestore/extra-features.html">
        Extra features
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vuex-easy-firestore/assets/js/app.7865803c.js" defer></script><script src="/vuex-easy-firestore/assets/js/2.a44a5bbe.js" defer></script><script src="/vuex-easy-firestore/assets/js/12.1a70acda.js" defer></script>
  </body>
</html>
